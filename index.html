<!DOCTYPE html>
<html>
<head>
    <title>Tier 10 Progress Calculator</title>
</head>
<body>
    <label for="adv-prot-lvl">Advanced Protection Level</label>
<select name="adv-prot-lvl" id="adv-prot-lvl">
    <option value=0>0</option>
    <option value=1>1</option>
    <option value=2>2</option>
    <option value=3>3</option>
    <option value=4>4</option>
    <option value=5>5</option>
    <option value=6>6</option>
    <option value=7>7</option>
    <option value=8>8</option>
    <option value=9>9</option>
    <option value=10>10</option>
</select>
<div id="advProtResult"></div>
<label for="healthLvl">Health Boost III Level</label>
<select name="healthLvl" id="healthLvl">
    <option value=0>0</option>
    <option value=1>1</option>
    <option value=2>2</option>
    <option value=3>3</option>
    <option value=4>4</option>
    <option value=5>5</option>
    <option value=6>6</option>
    <option value=7>7</option>
    <option value=8>8</option>
    <option value=9>9</option>
    <option value=10>10</option>
</select>
<div id="healthBoostResultDiv"></div>
<label for="attackLvl">Attack Boost III Level</label>
<select name="attackLvl" id="attackLvl">
    <option value=0>0</option>
    <option value=1>1</option>
    <option value=2>2</option>
    <option value=3>3</option>
    <option value=4>4</option>
    <option value=5>5</option>
    <option value=6>6</option>
    <option value=7>7</option>
    <option value=8>8</option>
    <option value=9>9</option>
    <option value=10>10</option>
</select>
<div id="attackBoostResultDiv"></div>
<label for="defenseLvl">Defense Boost III Level</label>
<select name="defenseLvl" id="defenseLvl">
    <option value=0>0</option>
    <option value=1>1</option>
    <option value=2>2</option>
    <option value=3>3</option>
    <option value=4>4</option>
    <option value=5>5</option>
    <option value=6>6</option>
    <option value=7>7</option>
    <option value=8>8</option>
    <option value=9>9</option>
    <option value=10>10</option>
</select>
<div id="defenseBoostResultDiv"></div>
<br>
<p>Total amount of gold still needed for tier 10 troop research, in millions</p>
<div id="totalGoldRemainingDiv"></div>
<br>
<p>Total amount of valor still needed for tier 10 troop research</p>
<div id="totalValorRemainingDiv"></div>



    <script>
        const advancedProtectionGold = [
            0,0,0,157,157,219,219,285,285,400
        ];

        const advancedProtectionValor = [
            0,1280,1440,1440,1600,1600,1800,1800,2000,2000,2000
        ];

        const boostThreeGold = [
            0,92.3,157,157,219,219,285,285,400,400,560
        ];

        const boostThreeValor = [
            0,1440,1600,1600,1800,1800,2000,2000,2200,2200,2400
        ];

        const tierTenGold = 530;
        const tierTenValor = 2400

        const advProtLvl = document.getElementById('adv-prot-lvl');
        const hLvl = document.getElementById('healthLvl');
        const aLvl = document.getElementById('attackLvl');
        const dLvl = document.getElementById('defenseLvl');
        let protVal = 0;
        let protGold = 0;
        let healthVal = 0;
        let healthGold = 0
        let attackVal = 0;
        let attackGold = 0;
        let defenseVal = 0;
        let defenseGold = 0;

        const protGoldResultDiv = document.getElementById('advProtResult');
        const healthGoldResultDiv = document.getElementById('healthBoostResultDiv');
        const attackGoldResultDiv = document.getElementById('attackBoostResultDiv');
        const defenseGoldResultDiv = document.getElementById('defenseBoostResultDiv');
        const totalGoldDiv = document.getElementById('totalGoldRemainingDiv');
        const totalValorDiv = document.getElementById('totalValorRemainingDiv');

        advProtLvl.addEventListener('change', (event) => {
            protGold = sumRange(advancedProtectionGold, event.target.value, advancedProtectionGold.length-1);
            protVal = sumRange(advancedProtectionValor, event.target.value, advancedProtectionValor.length-1);
            protGoldResultDiv.textContent = protGold;
            totalGoldDiv.textContent = healthGold + protGold + attackGold + defenseGold + tierTenGold;
            totalValorDiv.textContent = healthVal + protVal + attackVal + defenseVal + tierTenValor;
            console.log(protGold);
        });

        hLvl.addEventListener('change', (event) => {
            healthGold = sumRange(boostThreeGold, event.target.value, boostThreeGold.length-1);
            healthVal = sumRange(boostThreeValor, event.target.value, boostThreeValor.length-1);
            healthGoldResultDiv.textContent = healthGold;
            totalGoldDiv.textContent = healthGold + protGold + attackGold + defenseGold + tierTenGold;
            totalValorDiv.textContent = healthVal + protVal + attackVal + defenseVal + tierTenValor;
            console.log(healthGold);
        });

        aLvl.addEventListener('change', (event) => {
            attackGold = sumRange(boostThreeGold, event.target.value, boostThreeGold.length-1);
            attackVal = sumRange(boostThreeValor, event.target.value, boostThreeValor.length-1);
            attackGoldResultDiv.textContent = attackVal;
            totalGoldDiv.textContent = healthGold + protGold + attackGold + defenseGold + tierTenGold;
            totalValorDiv.textContent = healthVal + protVal + attackVal + defenseVal + tierTenValor;
            console.log(attackVal);
        });

        dLvl.addEventListener('change', (event) => {
            defenseGold = sumRange(boostThreeGold, event.target.value, boostThreeGold.length-1);
            defenseVal = sumRange(boostThreeValor, event.target.value, boostThreeValor.length-1);
            defenseGoldResultDiv.textContent = defenseVal;
            totalGoldDiv.textContent = healthGold + protGold + attackGold + defenseGold + tierTenGold
            totalValorDiv.textContent = healthVal + protVal + attackVal + defenseVal + tierTenValor
            console.log(defenseVal);
        });


        

        function sumRange(arr, start, end) {
            if (start < 0 || end >= arr.length || start > end) {
                return 0; // Handle invalid input
            }

            let sum = 0;
            for (let i = start; i <= end; i++) {
                sum += arr[i];
            }
            return sum;
        }
    </script>
</body>
</html>