<!DOCTYPE html>
<html>
<head>
    <title>Tier 10 Progress Calculator</title>
</head>
<body>
    <label for="adv-prot-lvl">Advanced Protection Level</label>
<select name="adv-prot-lvl" id="adv-prot-lvl">
    <option value=1>1</option>
    <option value=2>2</option>
    <option value=3>3</option>
    <option value=4>4</option>
    <option value=5>5</option>
    <option value=6>6</option>
    <option value=7>7</option>
    <option value=8>8</option>
    <option value=9>9</option>
    <option value=10>10</option>
</select>
<div id="advProtResult"></div>
<label for="healthLvl">Health Boost III Level</label>
<select name="healthLvl" id="healthLvl">
    <option value=1>1</option>
    <option value=2>2</option>
    <option value=3>3</option>
    <option value=4>4</option>
    <option value=5>5</option>
    <option value=6>6</option>
    <option value=7>7</option>
    <option value=8>8</option>
    <option value=9>9</option>
    <option value=10>10</option>
</select>
<div id="healthBoostResultDiv"></div>
<label for="attackLvl">Attack Boost III Level</label>
<select name="attackLvl" id="attackLvl">
    <option value=1>1</option>
    <option value=2>2</option>
    <option value=3>3</option>
    <option value=4>4</option>
    <option value=5>5</option>
    <option value=6>6</option>
    <option value=7>7</option>
    <option value=8>8</option>
    <option value=9>9</option>
    <option value=10>10</option>
</select>
<div id="attackBoostResultDiv"></div>
<label for="defenseLvl">Defense Boost III Level</label>
<select name="defenseLvl" id="defenseLvl">
    <option value=1>1</option>
    <option value=2>2</option>
    <option value=3>3</option>
    <option value=4>4</option>
    <option value=5>5</option>
    <option value=6>6</option>
    <option value=7>7</option>
    <option value=8>8</option>
    <option value=9>9</option>
    <option value=10>10</option>
</select>
<div id="defenseBoostResultDiv"></div>
<br>
<p>Total amount of gold still needed for tier 10 troop research, in millions</p>
<div id="totalRemainingDiv"></div>


    <script>
        const advancedProtectionGold = [
            0,0,0,157,157,219,219,285,285,400
        ];

        const boostThreeGold = [
            92,157,157,219,219,285,285,400,400,560
        ];

        const tierTenGold = 530;

        const advProtLvl = document.getElementById('adv-prot-lvl');
        const hLvl = document.getElementById('healthLvl');
        const aLvl = document.getElementById('attackLvl');
        const dLvl = document.getElementById('defenseLvl');
        let protVal = 0;
        let healthVal = 0;
        let attackVal = 0;
        let defenseVal = 0;

        const protResultDiv = document.getElementById('advProtResult');
        const healthResultDiv = document.getElementById('healthBoostResultDiv');
        const attackResultDiv = document.getElementById('attackBoostResultDiv');
        const defenseResultDiv = document.getElementById('defenseBoostResultDiv');
        const totalDiv = document.getElementById('totalRemainingDiv');

        advProtLvl.addEventListener('change', (event) => {
            protVal = sumRange(advancedProtectionGold, event.target.value, advancedProtectionGold.length-1);
            protResultDiv.textContent = protVal;
            totalDiv.textContent = healthVal + protVal + attackVal + defenseVal + tierTenGold
            console.log(protVal);
        });

        hLvl.addEventListener('change', (event) => {
            healthVal = sumRange(boostThreeGold, event.target.value, boostThreeGold.length-1);
            healthResultDiv.textContent = healthVal;
            totalDiv.textContent = healthVal + protVal + attackVal + defenseVal + tierTenGold
            console.log(healthVal);
        });

        aLvl.addEventListener('change', (event) => {
            attackVal = sumRange(boostThreeGold, event.target.value, boostThreeGold.length-1);
            attackResultDiv.textContent = attackVal;
            totalDiv.textContent = healthVal + protVal + attackVal + defenseVal + tierTenGold
            console.log(attackVal);
        });

        dLvl.addEventListener('change', (event) => {
            defenseVal = sumRange(boostThreeGold, event.target.value, boostThreeGold.length-1);
            defenseResultDiv.textContent = defenseVal;
            totalDiv.textContent = healthVal + protVal + attackVal + defenseVal + tierTenGold
            console.log(defenseVal);
        });


        

        function sumRange(arr, start, end) {
            if (start < 0 || end >= arr.length || start > end) {
                return 0; // Handle invalid input
            }

            let sum = 0;
            for (let i = start; i <= end; i++) {
                sum += arr[i];
            }
            return sum;
        }
    </script>
</body>
</html>